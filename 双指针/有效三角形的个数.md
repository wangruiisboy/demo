``` python
#  给定一个包含非负整数的数组 nums ，返回其中可以组成三角形三条边的三元组个数。
# 1 <= nums.length <= 1000
# 0 <= nums[i] <= 1000

class Solution:
    def triangleNumber(self, arr: List[int]) -> int:
        n = len(arr)
        ans = 0
        # 首先对数组排序
        arr.sort()

        # 从最大边开始
        for k in range(n-1,1,-1):
            c = arr[k]
            if(arr[0] + arr[1] > c):
                ans += (k+1) * k * (k-1) // 6
                break
            if(arr[k-1] + arr[k-2] <= c):
                continue
            i,j = 0,k-1
            while(i<j):
                if(arr[i] + arr[j] > arr[k]):
                    ans+= j - i
                    j-=1
                else:
                    i+=1
        return ans 
```